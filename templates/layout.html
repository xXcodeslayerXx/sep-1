<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      http-equiv="Content-Security-Policy"
      content="base-uri 'self'; default-src 'self'; style-src 'self'; script-src 'self'; img-src 'self' data:; media-src 'self'; font-src 'self'; connect-src 'self'; object-src 'self'; worker-src 'self'; frame-src 'none'; form-action 'self'; manifest-src 'self'"
    />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
    <title>Subjects and Topics</title>
    <link rel="manifest" href="static/manifest.json" />
    <link rel="icon" type="image/x-icon" href="static/images/favicon.png" />
    <meta name="theme-color" content="" />
    <link href="static/css/bootstrap.min.css" rel="stylesheet" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    {% include "partials/menu.html" %} {% block content %}{% endblock %} {%
    include "partials/footer.html" %}

    <script src="static/js/bootstrap.bundle.min.js"></script>
    <script src="static/js/serviceWorker.js"></script>
    <script src="static/js/app.js"></script>

    <script>
      // const data = [
      //   { Subject: "English", Topic: "Reading" },
      //   { Subject: "English", Topic: "Writing" },
      //   { Subject: "English", Topic: "Speaking" },
      //   { Subject: "English", Topic: "Grammar" },
      //   { Subject: "Math", Topic: "Measurement" },
      //   { Subject: "Math", Topic: "Geometry" },
      //   { Subject: "Math", Topic: "Addition" },
      //   { Subject: "Math", Topic: "Subtraction" },
      //   { Subject: "Math", Topic: "Multiplication" },
      //   { Subject: "Math", Topic: "Division" },
      //   { Subject: "Math", Topic: "Probability" },
      //   { Subject: "History", Topic: "Ancient" },
      //   { Subject: "History", Topic: "Local" },
      //   { Subject: "Science", Topic: "Plants" },
      //   { Subject: "Science", Topic: "Animals" },
      //   { Subject: "Science", Topic: "Electricity" },
      //   { Subject: "Science", Topic: "Astronomy" },
      //   { Subject: "Art", Topic: "Lines" },
      //   { Subject: "Art", Topic: "Colours" },
      //   { Subject: "Art", Topic: "Shapes" },
      //   { Subject: "Geography", Topic: "Maps" },
      //   { Subject: "Geography", Topic: "Earth" },
      //   { Subject: "Geography", Topic: "Weather" },
      //   { Subject: "Geography", Topic: "Environment" },
      // ];

      // const content = document.getElementById("content");

      // const grouped = {};
      // data.forEach(({ Subject, Topic }) => {
      //   if (!grouped[Subject]) grouped[Subject] = [];
      //   grouped[Subject].push(Topic);
      // });

      // const timers = {};
      // let activeTopic = null;

      // function formatTime(seconds) {
      //   const m = String(Math.floor(seconds / 60)).padStart(2, "0");
      //   const s = String(seconds % 60).padStart(2, "0");
      //   return `${m}:${s}`;
      // }

      // function startTimer(topicId) {
      //   if (activeTopic && activeTopic !== topicId) {
      //     stopTimer(activeTopic);
      //   }

      //   if (!timers[topicId].interval) {
      //     timers[topicId].interval = setInterval(() => {
      //       timers[topicId].seconds++;
      //       document.getElementById(`timer-${topicId}`).textContent =
      //         formatTime(timers[topicId].seconds);
      //     }, 1000);
      //     activeTopic = topicId;
      //   }
      // }

      // function stopTimer(topicId) {
      //   clearInterval(timers[topicId].interval);
      //   timers[topicId].interval = null;
      //   if (activeTopic === topicId) activeTopic = null;
      // }

      // Object.entries(grouped).forEach(([subject, topics]) => {
      //   const section = document.createElement("details");
      //   section.className = "subject-section";
      //   const summary = document.createElement("summary");
      //   summary.textContent = subject;
      //   section.appendChild(summary);

      //   const grid = document.createElement("div");
      //   grid.className = "topic-grid";

      //   topics.forEach((topic) => {
      //     const topicId = topic.replace(/\s+/g, "-").toLowerCase();
      //     timers[topicId] = { seconds: 0, interval: null };

      //     const card = document.createElement("div");
      //     card.className = "topic-card";
      //     card.innerHTML = `
      //       <div class="topic-title">${topic}</div>
      //       <div class="timer-display" id="timer-${topicId}">00:00</div>
      //       <div class="controls">
      //         <button class="start-btn" onclick="startTimer('${topicId}')">Start</button>
      //         <button class="stop-btn" onclick="stopTimer('${topicId}')">Stop</button>
      //       </div>
      //     `;

      //     grid.appendChild(card);
      //   });

      //   section.appendChild(grid);
      //   content.appendChild(section);
      // });
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
